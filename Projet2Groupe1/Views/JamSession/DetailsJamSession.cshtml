@model Projet2Groupe1.ViewModels.JamSessionViewModel

<!DOCTYPE html>

<html>

<head>
    <meta name="viewport" content="width=device-width" />
    <title>Connexion</title>

</head>

<body>

    <h1>Ma session de Jam </h1>

    <table border="1">
        <tr>
            <th>Nom</th>
            <th>Heure de début</th>
            <th>Heure de fin</th>
            

        </tr>

        <tr>
            <td>@Model.JamSession.Title</td>
            <td>@Model.JamSession.StartSession</td>
            <td>@Model.JamSession.EndSession</td>
          



        </tr>

    </table>

    <div>
        @if (Model.JamSession.Photo != null)
        {
            String srcValue = "data:image.jpg;base64," + Convert.ToBase64String(Model.JamSession.Photo) + "";


            <img id="imgViewer" width="200" height="200" style="border:1px solid #000000" src=@srcValue />

        }
        else
        {
            <img width="200" height="200" style="border:1px solid #000000"
                 src="@Url.Action("GetDefaultImage", "JamSession")" />

        }
    </div>

    <div>

        <input id="txtFile" type="file" value="Upload File" />

        <button id="btnSave">Sauvegarder image</button>


        <img id="imgViewer" width="200" height="200" style="border:1px solid #000000" />
    </div>

    <!--~ pour bien récup le fichier -->
    <script type="text/javascript" src="~/js/jquery-3.7.1.min.js"></script>

    <script type="text/javascript">


        $("#txtFile").change(function (event) {
            var files = event.target.files;
            if (files.length > 0) {
                $("#imgViewer").attr("src", window.URL.createObjectURL(files[0]));
            }
        });


        function ResetFields() {
            $("#txtFile").val("");
            $("#imgViewer").attr("src", "");
        }
    </script>
</body>
</html>
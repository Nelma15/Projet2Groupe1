@using Projet2Groupe1.Models
@model Projet2Groupe1.ViewModels.EventViewModel

@{
    Layout = "_LayoutDashboard";
    ViewBag.Title = "Profile de l'Admin !!";
    ViewBag.Role = "ORGANIZER";
}
    

@section DashNav {
    <ul>
        <li><a href=# class="buttonProfile"><img src="~/images/iconeOrganiser.png" alt="Icone Organiser" class="icone">Organiser événements</a></li>
        <li><a href=# class="buttonProfile"><img src="~/images/iconeTools.png" alt="Icone Tools" class="icone">Services demandés</a></li>
        <li><a href=# class="buttonProfile"><img src="~/images/iconeEuro.png" alt="Icone Euro" class="icone">Historique d'achat</a></li>
        <li><a href=# class="buttonProfile"><img src="~/images/iconeProfil.png" alt="Icone Profil" class="icone">Profil</a></li>
    </ul>
}
@using(IServiceService iss = new ServiceService(new DataBaseContext()))
{
@using (Html.BeginForm("CreateEvent", "Event", FormMethod.Post, new { enctype = "multipart/form-data" }))


    {
        <div>
            @Html.LabelFor(m => Model.Event.NameEvent, "Nom de l'événement") :
            @Html.TextBoxFor(m => Model.Event.NameEvent)
            @Html.ValidationMessageFor(m => Model.Event.NameEvent)
        </div>

        <div>
            @Html.LabelFor(m => Model.Event.StartEvent, "Heure de début") :
            @Html.TextBoxFor(m => Model.Event.StartEvent, new { Type = "datetime-local",})
            @Html.ValidationMessageFor(m => Model.Event.StartEvent)
        </div>

        <div>
            @Html.LabelFor(m => Model.Event.EndEvent, "Heure de fin") :
            @Html.TextBoxFor(m => Model.Event.EndEvent, new { Type = "datetime-local" })
            @Html.ValidationMessageFor(m => Model.Event.EndEvent)
        </div>

        @*Ici débute l'adresse ========================================================================*@
        <div>
            @Html.LabelFor(m => Model.Event.Adress.StreetNumber, "Numéro de rue") :
            @Html.TextBoxFor(m => Model.Event.Adress.StreetNumber)
            @Html.ValidationMessageFor(m => Model.Event.Adress.StreetNumber)
        </div>
        
        <div>
            @Html.LabelFor(m => Model.Event.Adress.StreetName, "Nom de voie") :
            @Html.TextBoxFor(m => Model.Event.Adress.StreetName)
            @Html.ValidationMessageFor(m => Model.Event.Adress.StreetName)
        </div>

        <div>
            @Html.LabelFor(m => Model.Event.Adress.ZipCode, "Code postal") :
            @Html.TextBoxFor(m => Model.Event.Adress.ZipCode)
            @Html.ValidationMessageFor(m => Model.Event.Adress.ZipCode)
        </div>

        <div>
            @Html.LabelFor(m => Model.Event.Adress.City, "Ville") :
            @Html.TextBoxFor(m => Model.Event.Adress.City)
            @Html.ValidationMessageFor(m => Model.Event.Adress.City)
        </div>

        @*Ici se termine l'adresse ======================================================================*@

        <div>
            @Html.LabelFor(m => Model.Event.Artist.NickNameArtist, "Artiste(s)") :
            @Html.TextBoxFor(m => Model.Event.Artist.NickNameArtist)
            @Html.ValidationMessageFor(m => Model.Event.Artist.NickNameArtist)
        </div>
        
        <div>
            @Html.LabelFor(m => Model.Event.TypeEvent, "Type de l'événement") :
            @Html.DropDownListFor(
                     m => Model.Event.TypeEvent,
                     new SelectList(Enum.GetValues(typeof(Projet2Groupe1.Models.TypeEvent))),
                     "Sélectionnez un type"
                     )
            @Html.ValidationMessageFor(m => Model.Event.TypeEvent)
        </div>

        <div>
            @Html.LabelFor(m => Model.Event.Billetterie.NumberTotalTicket, "Nombre total de billets à vendre") :
            @Html.TextBoxFor(m => Model.Event.Billetterie.NumberTotalTicket)
            @Html.ValidationMessageFor(m => Model.Event.Billetterie.NumberTotalTicket)
        </div>


        <div>
            @Html.LabelFor(m => Model.Event.Billetterie.Category, "Catégorie de billet") :
            @Html.TextBoxFor(m => Model.Event.Billetterie.Category)
            @Html.ValidationMessageFor(m => Model.Event.Billetterie.Category)
        </div>

        <div>
            @Html.LabelFor(m => Model.Event.Billetterie.UnitPriceTicket, "Prix unitaire") :
            @Html.TextBoxFor(m => Model.Event.Billetterie.UnitPriceTicket)
            @Html.ValidationMessageFor(m => Model.Event.Billetterie.UnitPriceTicket)
        </div>

        <div>
        @Html.LabelFor(m => Model.Event.TypeService, "type de service")
        @Html.DropDownListFor(mbox => Model.Event.TypeService, new SelectList(Enum.GetValues(typeof(TypeService))
                .Cast<TypeService>()
                .Select(e => new { Value = e, Text = iss.GetDisplayName(e) }),
                "Value",
                "Text"), "Selectionner un type")
        </div>

        <div>
            @Html.LabelFor(m => Model.Event.QuantityService, "Quantité de service") :
            @Html.TextBoxFor(m => Model.Event.QuantityService)
            @Html.ValidationMessageFor(m => Model.Event.QuantityService)
        </div>

        <input type="submit" value="je crée mon événement" />
    }
    }